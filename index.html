<html>
    <head>
        <meta charset="utf-8">
        <title>Song List</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <header>
            <h1>Song List</h1>
        </header>
        <div id="serial"></div>
        <div id="songs"></div>
        <div id="genres"></div>
        <div id="input">
            <form>
                <p>Filter the genre:</p>
                <select id="pickgenre">
                    <option value="none">Please Select a Genre</option>
                    <option value="R and B">R and B</option>
                    <option value="Pop">Pop</option>
                    <option value="House">House</option>
                    <option value="Hip Hop, House">Hip Hop, House</option>
                </select>
                <input type="button" id="filter" value="Filter">
            </form>
        </div>

        <script src="jquery-3.6.0.js"></script>
        <script>
            $.getJSON("https://wmcleish.github.io/CS20_A9/song_list.json", function(data){
                $("#serial").html(JSON.stringify(data));
                for (let i = 0; i < data.setlist.length; i++){
                    for (let j in data.setlist[i]){
                        $("#songs").append(data.setlist[i][j] + "</br>");
                    }
                    $("#songs").append("</br>");
                    $("#genres").append(data.setlist[i]["title"] + "</br>");
                }
                $("#filter").click(function(){
                    $("#genres").html("");
                    if ($("#pickgenre").val() == none){
                        for (let i = 0; i < data.setlist.length; i++){
                            $("#genres").append(data.setlist[i]["title"] + "</br>");
                        }
                    } else {
                        for (let i = 0; i < data.setlist.length; i++){
                            if (data.setlist[i]["genre"] == $("#pickgenre").val()){
                                $("#genres").append(data.setlist[i]["title"] + "</br>");
                            }
                        }
                    }
                });
            });
        </script>
    </body>
</html>